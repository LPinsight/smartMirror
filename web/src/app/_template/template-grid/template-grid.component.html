
@if (!editGrid) {
  <div class="editBar">
    <button (click)="editGrid=!editGrid">
      <mat-icon>add</mat-icon>
      Widget hinzufügen
    </button>
  </div>
}

@if (editGrid) {
  <div class="editBar">
    <button class="saveWidget" (click)="createNewWidget($event)">
      <mat-icon>add</mat-icon>
      Widget hinzufügen
    </button>
    <button (click)="resetNewWidget($event)" >
      <mat-icon>restart_alt</mat-icon>
      Auswahl zurücksetzen
    </button>
    <button class="cancelWidget" (click)="cancelNewWidget()">
      <mat-icon>close</mat-icon>
      Abbruch
    </button>
  </div>
}

<div class="grid">

  @for (widget of display.grid; track widget; let x = $index) {
    <app-template-grid-widget
      class="{{widget.id}}"
      (ping)="updateWidget($event)"
      [widget]="widget"
      [editGrid]="editGrid"
    [ngClass]="{
      'placeholder' : widget.name  === 'placeholder',
      'edit': editGrid,
      'selected': newWidgetPosition.indexOf(widget) > -1
    }"
    [ngStyle]="{
      'grid-row-start': widget.point_start.y,
      'grid-row-end': widget.point_end.y,
      'grid-column-start': widget.point_start.x,
      'grid-column-end': widget.point_end.x}"
      />
  }

</div>